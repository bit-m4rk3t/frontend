{"remainingRequest":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\src\\views\\SignUp.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\src\\views\\SignUp.vue","mtime":1615015739000},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\babel.config.js","mtime":1615015739000},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638272416389},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1638272419193},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1638272416389},{"path":"C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1638272419459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgeyB0b2FzdCB9IGZyb20gJ2J1bG1hLXRvYXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTaWduVXAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcGFzc3dvcmQyOiAnJywKICAgICAgZXJyb3JzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmVycm9ycyA9IFtdOwoKICAgICAgaWYgKHRoaXMudXNlcm5hbWUgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHVzZXJuYW1lIGlzIG1pc3NpbmcnKTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucGFzc3dvcmQgPT09ICcnKSB7CiAgICAgICAgdGhpcy5lcnJvcnMucHVzaCgnVGhlIHBhc3N3b3JkIGlzIHRvbyBzaG9ydCcpOwogICAgICB9CgogICAgICBpZiAodGhpcy5wYXNzd29yZCAhPT0gdGhpcy5wYXNzd29yZDIpIHsKICAgICAgICB0aGlzLmVycm9ycy5wdXNoKCdUaGUgcGFzc3dvcmRzIGRvZXNuXCd0IG1hdGNoJyk7CiAgICAgIH0KCiAgICAgIGlmICghdGhpcy5lcnJvcnMubGVuZ3RoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhID0gewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZAogICAgICAgIH07CiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS91c2Vycy8iLCBmb3JtRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHRvYXN0KHsKICAgICAgICAgICAgbWVzc2FnZTogJ0FjY291bnQgY3JlYXRlZCwgcGxlYXNlIGxvZyBpbiEnLAogICAgICAgICAgICB0eXBlOiAnaXMtc3VjY2VzcycsCiAgICAgICAgICAgIGRpc21pc3NpYmxlOiB0cnVlLAogICAgICAgICAgICBwYXVzZU9uSG92ZXI6IHRydWUsCiAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICBwb3NpdGlvbjogJ2JvdHRvbS1yaWdodCcKICAgICAgICAgIH0pOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL2xvZy1pbicpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgICAgICBfdGhpcy5lcnJvcnMucHVzaCgiIi5jb25jYXQocHJvcGVydHksICI6ICIpLmNvbmNhdChlcnJvci5yZXNwb25zZS5kYXRhW3Byb3BlcnR5XSkpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvci5yZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UpIHsKICAgICAgICAgICAgX3RoaXMuZXJyb3JzLnB1c2goJ1NvbWV0aGluZyB3ZW50IHdyb25nLiBQbGVhc2UgdHJ5IGFnYWluJyk7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["C:\\Users\\PC\\Desktop\\TiMP\\VueProjects\\djackets_vue\\src\\views\\SignUp.vue"],"names":[],"mappings":";;AAgDA,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,KAAT,QAAsB,aAAtB;AAEA,eAAe;AACX,EAAA,IAAI,EAAE,QADK;AAEX,EAAA,IAFW,kBAEJ;AACH,WAAO;AACH,MAAA,QAAQ,EAAE,EADP;AAEH,MAAA,QAAQ,EAAE,EAFP;AAGH,MAAA,SAAS,EAAE,EAHR;AAIH,MAAA,MAAM,EAAE;AAJL,KAAP;AAMH,GATU;AAUX,EAAA,OAAO,EAAE;AACL,IAAA,UADK,wBACQ;AAAA;;AACT,WAAK,MAAL,GAAc,EAAd;;AAEA,UAAI,KAAK,QAAL,KAAkB,EAAtB,EAA0B;AACtB,aAAK,MAAL,CAAY,IAAZ,CAAiB,yBAAjB;AACJ;;AAEA,UAAI,KAAK,QAAL,KAAkB,EAAtB,EAA0B;AACtB,aAAK,MAAL,CAAY,IAAZ,CAAiB,2BAAjB;AACJ;;AAEA,UAAI,KAAK,QAAL,KAAkB,KAAK,SAA3B,EAAsC;AAClC,aAAK,MAAL,CAAY,IAAZ,CAAiB,8BAAjB;AACJ;;AAEA,UAAI,CAAC,KAAK,MAAL,CAAY,MAAjB,EAAyB;AACrB,YAAM,QAAO,GAAI;AACb,UAAA,QAAQ,EAAE,KAAK,QADF;AAEb,UAAA,QAAQ,EAAE,KAAK;AAFF,SAAjB;AAKA,QAAA,KAAI,CACC,IADL,CACU,gBADV,EAC4B,QAD5B,EAEK,IAFL,CAEU,UAAA,QAAO,EAAK;AACd,UAAA,KAAK,CAAC;AACF,YAAA,OAAO,EAAE,iCADP;AAEF,YAAA,IAAI,EAAE,YAFJ;AAGF,YAAA,WAAW,EAAE,IAHX;AAIF,YAAA,YAAY,EAAE,IAJZ;AAKF,YAAA,QAAQ,EAAE,IALR;AAMF,YAAA,QAAQ,EAAE;AANR,WAAD,CAAL;;AASA,UAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,SAAlB;AACH,SAbL,EAcK,KAdL,CAcW,UAAA,KAAI,EAAK;AACZ,cAAI,KAAK,CAAC,QAAV,EAAoB;AAChB,iBAAK,IAAM,QAAX,IAAuB,KAAK,CAAC,QAAN,CAAe,IAAtC,EAA4C;AACxC,cAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,WAAoB,QAApB,eAAiC,KAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,QAApB,CAAjC;AACJ;;AAEA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAK,CAAC,QAAN,CAAe,IAA9B,CAAZ;AACJ,WANA,MAMO,IAAI,KAAK,CAAC,OAAV,EAAmB;AACtB,YAAA,KAAI,CAAC,MAAL,CAAY,IAAZ,CAAiB,wCAAjB;;AAEA,YAAA,OAAO,CAAC,GAAR,CAAY,IAAI,CAAC,SAAL,CAAe,KAAf,CAAZ;AACJ;AACH,SA1BL;AA2BJ;AACJ;AAlDK;AAVE,CAAf","sourcesContent":["<template>\n    <div class=\"page-sign-up\">\n        <div class=\"columns\">\n            <div class=\"column is-4 is-offset-4\">\n                <h1 class=\"title\">Sign up</h1>\n\n                <form @submit.prevent=\"submitForm\">\n                    <div class=\"field\">\n                        <label>Username</label>\n                        <div class=\"control\">\n                            <input type=\"text\" class=\"input\" v-model=\"username\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password\">\n                        </div>\n                    </div>\n\n                    <div class=\"field\">\n                        <label>Repeat password</label>\n                        <div class=\"control\">\n                            <input type=\"password\" class=\"input\" v-model=\"password2\">\n                        </div>\n                    </div>\n\n                    <div class=\"notification is-danger\" v-if=\"errors.length\">\n                        <p v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</p>\n                    </div>\n\n                    <div class=\"field\">\n                        <div class=\"control\">\n                            <button class=\"button is-dark\">Sign up</button>\n                        </div>\n                    </div>\n\n                    <hr>\n\n                    Or <router-link to=\"/log-in\">click here</router-link> to log in!\n                </form>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { toast } from 'bulma-toast'\n\nexport default {\n    name: 'SignUp',\n    data() {\n        return {\n            username: '',\n            password: '',\n            password2: '',\n            errors: []\n        }\n    },\n    methods: {\n        submitForm() {\n            this.errors = []\n\n            if (this.username === '') {\n                this.errors.push('The username is missing')\n            }\n\n            if (this.password === '') {\n                this.errors.push('The password is too short')\n            }\n\n            if (this.password !== this.password2) {\n                this.errors.push('The passwords doesn\\'t match')\n            }\n\n            if (!this.errors.length) {\n                const formData = {\n                    username: this.username,\n                    password: this.password\n                }\n\n                axios\n                    .post(\"/api/v1/users/\", formData)\n                    .then(response => {\n                        toast({\n                            message: 'Account created, please log in!',\n                            type: 'is-success',\n                            dismissible: true,\n                            pauseOnHover: true,\n                            duration: 2000,\n                            position: 'bottom-right',\n                        })\n\n                        this.$router.push('/log-in')\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            for (const property in error.response.data) {\n                                this.errors.push(`${property}: ${error.response.data[property]}`)\n                            }\n\n                            console.log(JSON.stringify(error.response.data))\n                        } else if (error.message) {\n                            this.errors.push('Something went wrong. Please try again')\n                            \n                            console.log(JSON.stringify(error))\n                        }\n                    })\n            }\n        }\n    }\n}\n</script>"],"sourceRoot":""}]}